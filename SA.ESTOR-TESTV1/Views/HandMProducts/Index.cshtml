@model List<HandMProduct>
@{
}

<h1>only admin can see this</h1>

<h2 class="text-center m-5">HandMade Products</h2>



@if (User.IsInRole("Adminplus"))
{
	<div class="col p-5 my-5 border">
		<a class="btn btn-outline-success rounded-3" asp-controller="HandMProducts" asp-action="Create">New Product</a>
	</div>
}

<div class="container p-5 my-5 border">

	<div class="table-responsive">

		<table class=" table table-bordered table-hover table-success ">
			<thead>
				<tr>
					@if (User.IsInRole("Adminplus"))
					{
						<th>ID</th>
					}

					<th>NAME</th>
					<th>BRAND</th>
					<th>CATEGORY</th>
					<th>PRICE</th>
					<th>DESCRIPTION</th>
					<th>IMAGE</th>
					<th>CREATED AT</th>
					@if (User.IsInRole("Adminplus"))
					{
						<th>ACTION</th>
					}

					<th>EMAIL</th>
					<th>Phone Number</th>

				</tr>
			</thead>

			<tbody>
				@foreach (var product in Model)
				{
					<tr class="table-info">
						@if (User.IsInRole("Adminplus"))
						{
							<td>@product.Id</td>
						}

						<td>@product.Name</td>
						<td>@product.Brand</td>
						<td>@product.Category</td>
						<td>@(product.Price.ToString("C", new System.Globalization.CultureInfo("sv-SE")))</td>
						<td>@product.Description</td>
						<td><img src="/HandMade-IMGs/@product.ImageFileName" class="img-thumbnail mx-auto d-block" width="100" height="100" alt="Product Image" /></td>
						<td>@product.CreatedAt.ToString("MM/dd/yyyy")</td>

						@if (User.IsInRole("Adminplus"))
						{
							<td style="white-space:nowrap">
								<a class="btn btn-primary btn-sm" asp-controller="HandMProducts" asp-action="Edit"
								   asp-route-id="@product.Id">Edit</a>
								<a class="btn btn-danger btn-sm" asp-controller="HandMProducts" asp-action="Delete"
								   asp-route-id="@product.Id" onclick="return confirm('Are you sure?')">Delete</a>
							</td>
						}




						<td><a href="mailto:@product.Email">@product.Email</a></td>
						<td>
							@if (!string.IsNullOrEmpty(product.PhoneNumber))
							{
								<a href="tel:@product.PhoneNumber.Replace(" ", "")">@product.PhoneNumber</a>
							}
							else
							{
								<span>Not Available</span>
							}
						</td>
						@*<td><a href="tel:@product.PhoneNumber">@product.PhoneNumber</a></td>*@


					</tr>
				}
			</tbody>
		</table>
	</div>
</div>






